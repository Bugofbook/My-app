(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(45)},39:function(e,t,a){},41:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Home",function(){return ne}),a.d(n,"TicTacToe",function(){return re}),a.d(n,"Othello",function(){return oe}),a.d(n,"Whoops404",function(){return se});var r=a(0),o=a.n(r),s=a(12),c=a(14),l=a(48),i=a(49),u=a(28),m=a(19),h=a(47),f=[{id:"TicTacToe",router:"/TicTacToe",zh_name:"\u4e95\u5b57\u68cb"},{id:"Othello",router:"/Othello",zh_name:"\u9ed1\u767d\u68cb"}],y=(a(39),{backgroundColor:"white",color:"slategray"}),d=function(){return o.a.createElement("nav",{className:"main-menu"},o.a.createElement(h.a,{to:"/"},"[\u9996\u9801]"),f.map(function(e){return o.a.createElement(h.a,{to:e.router,activeStyle:y},"[".concat(e.zh_name,"]"))}))},p=(a(41),"ADD_GAMEDATA"),g="DEL_GAMEDATA",v="RE_NAME",w=a(26),E=a(6),k=a(8),b=a(10),O=a(9),j=a(11),q=a(5),T=a(1),N=a.n(T),S=a(27),G=a(7),A=function(e){var t=e.value,a=void 0===t?"none":t,n=e.className,r=void 0===n?"square":n,s=e.onClick;return o.a.createElement("button",{className:r,onClick:s},a)},D=function(e){var t=e.rows,a=void 0===t?[]:t,n=e.rowclass,r=void 0===n?"board-row":n,s=e.change,c=void 0===s?function(e){return e}:s;return o.a.createElement("div",{className:r},a.map(function(e,t){return o.a.createElement(A,{className:e.classname,value:e.value,key:t,onClick:function(){return c(t)}})}))},C=function(e){var t=e.Squares,a=void 0===t?[]:t,n=e.boardclass,r=void 0===n?"board":n,s=e.change,c=void 0===s?function(e){return e}:s;return o.a.createElement("div",{className:r},a.map(function(e,t){return o.a.createElement("div",{className:"board-row",key:t},o.a.createElement(D,{rows:e,key:t,change:function(e){return c(t,e)}}))}))},_=(a(44),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(b.a)(this,Object(O.a)(t).call(this,e))).mainchange=function(){console.log("Sorry, you did not make the method")},a.jumpto=function(e){0===e&&a.setState(a.props.initialstate),a.setState({history:a.state.history.slice(0,e+1),gameinfo:Object(E.a)({},a.state.gameinfo,{turns:e,actionlists:a.state.gameinfo.actionlists.slice(0,e),gamestate:"Game Playing"})})},a.loadingdata=function(e){window.setTimeout(function(){return a.jumpto(0)},0),e.chesshistory.reduce(function(e,t,n){return window.setTimeout(function(){return a.mainchange(t.rowskey,t.columnskey)},1e3*n+1e3)},0)},a.state=a.props.initialstate,a.mainchange=a.mainchange.bind(Object(G.a)(Object(G.a)(a))),a.loadingdata=a.loadingdata.bind(Object(G.a)(Object(G.a)(a))),a.adddata=a.props.adddata,a.deldata=a.props.deldata,a}return Object(j.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state.history,n=this.state.gameinfo,r=a[n.turns],s=this.props.localstore,c=a.map(function(e,a){var r=a?"".concat(n[n.actionlists[a-1].owner]," Push chess to ( ").concat(n.actionlists[a-1].rowskey+1,",").concat(n.actionlists[a-1].columnskey+1," )"):"Go to Start";return o.a.createElement("li",{key:a},o.a.createElement("input",{type:"bottom",value:r,onClick:function(){return t.jumpto(a)}}))});return o.a.createElement("section",{className:"game"},o.a.createElement("div",{className:"game-board"},o.a.createElement("h1",null,n.gamename),o.a.createElement("h2",null,function(e,t){return"Game End"===e.gamestate?"No Winner"!==e.winner?"Winner is ".concat(e[e.winner],", Loser is ").concat(e[e.loser]):"The \uff27ame ended in a tie.":"".concat(e[t.nowplayer]," ,  Please push your Chess")}(n,r)),o.a.createElement(C,{Squares:r.squares,className:"board",change:function(e,a){return t.mainchange(e,a)}})),o.a.createElement("div",{className:"game-info"},o.a.createElement("h2",null,"Game Step"),function(e){return"Game End"===e.gamestate?o.a.createElement("input",{type:"bottom",value:"Save Result",onClick:function(){return t.adddata(e.gamename,e.actionlists)}}):o.a.createElement("p",null)}(n),o.a.createElement("ol",null,c)),o.a.createElement("div",{className:"game-localstore"},o.a.createElement("h2",null,"Local Save"),0===(e=s).length?o.a.createElement("p",null,"No Local Save"):o.a.createElement("ol",null,e.map(function(e,a){return o.a.createElement("li",null,o.a.createElement("input",{type:"bottom",value:"X",style:{width:15},onClick:function(){return t.deldata(e.id)}}),o.a.createElement("input",{type:"bottom",value:"Time: ".concat(e.date.toLocaleString("zh-cn")," "),onClick:function(){return t.loadingdata(e)}}))}))))}}]),t}(o.a.Component)),J=function(e,t){return t[e.rowskey][e.columnskey]={value:e.value,owner:e.owner,lock:e.lock},t},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).concat([e])},x=function(e){for(var t=[],a=0,n=e.length;a<n;a++){var r=e[a];t[a]=[];for(var o=0,s=r.length;o<s;o++)t[a][o]=Object.assign({},r[o])}return t},z=function(e,t){return function(a){return function(n,r){for(var o,s=1,c=(o=n.value,function(e){return e.value===o?1:0}),l=r.length,i=1;i<a;i++){var u=n.rowskey-i*e,m=n.columnskey-i*t;if(!(u>=0&&u<l&&m>=0&&m<r[u].length))break;s+=c(r[u][m])}for(var h=1;h<a;h++){var f=n.rowskey+h*e,y=n.columnskey+h*t;if(!(f>=0&&f<l&&y>=0&&y<r[f].length))break;s+=c(r[f][y])}return s}}},P=z(1,0),W=z(0,1),M=z(1,1),B=z(1,-1),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.squares,a=e.lists;if(a.length>=6){var n={rowskey:a[0].rowskey,columnskey:a[0].columnskey,value:"",owner:"",lock:!1};a=a.filter(function(e,t){return 0!==t}),t=J(n,t)}return e.squares=t,e.lists=a,e},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chess;return e.lists=L(t,e.lists),e.actionlists=L(t,e.actionlists),e.squares=J(t,e.squares),e},H=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.gamestate=(e=3,function(t,a){return P(e)(t,a)>=e||W(e)(t,a)>=e||M(e)(t,a)>=e||B(e)(t,a)>=e})(t.chess,t.squares)?"Game End":"Game Playing",t},I=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).mainchange=function(e,t){var n=a.state.history.slice(0,a.state.gameinfo.turns+1),r=n[n.length-1],o=r.nowplayer,s=a.state.gameinfo,c=x(r.squares);if(!0!==c[e][t].lock&&"Game End"!==s.gamestate){var l={rowskey:e,columnskey:t,value:"player1"===o?"O":"X",owner:o,lock:!0},i=Object(q.d)(H,X,R)({squares:c,lists:r.showlists.slice(),actionlists:s.actionlists.slice(),chess:l,gamestate:s.gamestate}),u="",m="";"Game End"===i.gamestate&&(u=o,m="player1"===o?"player2":"player1"),a.setState({history:n.concat([{squares:i.squares,showlists:i.lists,nowplayer:"player1"===o?"player2":"player1"}]),gameinfo:Object(E.a)({},s,{actionlists:i.actionlists,turns:s.turns+1,gamestate:i.gamestate,winner:u,loser:m})})}},a}return Object(j.a)(t,e),t}(_);I.propTypes={squares:N.a.array,list:N.a.array,info:N.a.object,addlist:N.a.func,dellist:N.a.func,addchess:N.a.func,changeplayer:N.a.func,endgame:N.a.func,begingame:N.a.func,beginboard:N.a.func,clearlist:N.a.func};var F=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).mainchange=function(e,t){var n=a.state.history.slice(0,a.state.gameinfo.turns+1),r=n[n.length-1],o=r.nowplayer,s=a.state.gameinfo,c=x(r.squares);if(!0!==c[e][t].lock&&"Game End"!==s.gamestate){var l={rowskey:e,columnskey:t,value:"player1"===o?"O":"X",owner:o,lock:!0},i=Object(q.d)(U,Q,K)({squares:c,player1chess:r.player1chess,player2chess:r.player2chess,actionlists:s.actionlists.slice(),chess:l,gamestate:s.gamestate}),u="",m="";"Game End"===i.gamestate&&(i.player1chess>i.player2chess?(u="player1",m="player2"):i.player2chess>i.player1chess?(u="player2",m="player1"):(u="No Winner",m="No Loser")),a.setState({history:n.concat([{squares:i.squares,player1chess:i.player1chess,player2chess:i.player2chess,nowplayer:"player1"===o?"player2":"player1"}]),gameinfo:Object(E.a)({},s,{actionlists:i.actionlists,turns:s.turns+1,gamestate:i.gamestate,winner:u,loser:m})})}},a}return Object(j.a)(t,e),t}(_),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chess;return e.actionlists=L(t,e.actionlists),e.squares=J(t,e.squares),e},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chess,a=e.squares,n=t.owner,r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[],n=e.value,r=t.length,o=0;o<9;o++){var s=[Math.floor(o/3)-1,o%3-1];if(a[o]=[],s!==[0,0])for(var c=1,l=r;c<l;c++){var i=e.rowskey+s[0]*c,u=e.columnskey+s[1]*c,m="";if(i>=0&&i<r&&u>=0&&u<t[i].length&&(m=t[e.rowskey+s[0]*c][e.columnskey+s[1]*c].value),""===m){a[o]=[];break}if(m===n)break;m!==n&&(a[o][c-1]={rowskey:e.rowskey+s[0]*c,columnskey:e.columnskey+s[1]*c,value:e.value,owner:e.owner,lock:e.lock})}}return a}(t,a).reduce(function(e,t){return e.concat(t)},[]),o=r.length;return o>0&&(e.squares=r.reduce(function(e,t){return J(t,e)},a)),"player1"===n?(e.player1chess+=o+1,e.player2chess-=o):(e.player1chess-=o,e.player2chess+=o+1),e},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.player1chess,a=e.player2chess;return e.gamestate=t+a>=64?"Game End":"Game Playing",e},V=function(e){return{deldata:function(t){e(function(e){return{type:g,id:e}}(t))},adddata:function(t,a){e(function(e,t){return{type:p,id:Object(w.v4)(),gamename:e,date:new Date,chesshistory:t}}(t,a))}}},Y=function(e,t){return Object(c.b)(function(e){return function(t){return{localstore:0!==t.gameDatas.length?t.gameDatas.filter(function(t){return t.gamename===e}):[]}}}(t),V)(e)},Z=Y(I,"TioTeoTic"),$=Y(F,"Othello"),ee={history:[{squares:Array(3).fill(Array(3).fill({value:"",owner:"",lock:!1})),showlists:[],nowplayer:"player1"}],gameinfo:{gamename:"TioTeoTic",gamestate:"Game Begin",player1:"Tom",player2:"Jerry",winner:"",loser:"",turns:0,actionlists:[]}},te={history:[{squares:Array(8).fill(Array(8).fill({value:"",owner:"",lock:!1})),player1chess:0,player2chess:0,nowplayer:"player1"}],gameinfo:{gamename:"Othello",gamestate:"Game Begin",player1:"Tom",player2:"Jerry",winner:"",loser:"",turns:0,actionlists:[]}},ae=function(e){var t=e.children;return o.a.createElement("div",{className:"page"},o.a.createElement(d,null),t)},ne=function(){return o.a.createElement("section",{className:"home"},o.a.createElement("hi",null,"[\u9996\u9801]"),o.a.createElement("nav",null,f.map(function(e){return o.a.createElement(m.a,{to:e.id},"[".concat(e.zh_name,"]"))})))},re=function(){return o.a.createElement(ae,null,o.a.createElement(Z,{initialstate:ee}))},oe=function(){return o.a.createElement(ae,null,o.a.createElement($,{initialstate:te}))},se=function(e){var t=e.location;return o.a.createElement("div",{className:"Whoops-404"},o.a.createElement("hi",null,"\u627e\u4e0d\u5230\u4ee5'",t.pathname,"'\u70ba\u540d\u7a31\u7684\u5206\u9801"))},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(E.a)({},e,{player1:t.player1,player2:t.player2});default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return e.concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return[{id:t.id,gamename:t.gamename,date:t.date,chesshistory:t.chesshistory}];default:return e}}([],t));case g:return e.filter(function(e){return e.id!==t.id});default:return e}},ie={gameDatas:[],playerData:{}},ue=function(e){return function(e){return function(t){return e(t)}}},me=function(e){return function(t){return function(a){var n=t(a);return localStorage["redux-store"]=JSON.stringify(e.getState()),n}}};window.React=o.a;var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return Object(q.a)(ue,me)(q.e)(Object(q.c)({gameDatas:le,playerData:ce}),localStorage["redux-store"]?JSON.parse(localStorage["redux-store"]):e)}();Object(s.render)(o.a.createElement(c.a,{store:he},o.a.createElement(l.a,null,o.a.createElement("div",{className:"main"},o.a.createElement(i.a,null,o.a.createElement(u.a,{exact:!0,path:"/",component:ne}),f.map(function(e){return o.a.createElement(u.a,{path:e.router,component:n[e.id]})}),o.a.createElement(u.a,{component:se}))))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.5ba724e4.chunk.js.map